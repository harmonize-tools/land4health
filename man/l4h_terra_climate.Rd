% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/l4h_terra_climate.R
\name{l4h_terra_climate}
\alias{l4h_terra_climate}
\title{Extract TerraClimate variables (monthly) from Google Earth Engine}
\usage{
l4h_terra_climate(
  from,
  to,
  band,
  region,
  scale = 1000,
  stat = "mean",
  sf = TRUE,
  quiet = FALSE,
  force = TRUE,
  ...
)
}
\arguments{
\item{from}{Character or Date. Start date (\code{"YYYY-MM-DD"}).}

\item{to}{Character or Date. End date (\code{"YYYY-MM-DD"}).}

\item{band}{Character vector. One or more TerraClimate variables to extract.
Supported codes: \code{"aet"}, \code{"def"}, \code{"pdsi"}, \code{"pet"}, \code{"pr"}, \code{"ro"},
\code{"soil"}, \code{"srad"}, \code{"swe"}, \code{"tmmn"}, \code{"tmmx"}, \code{"vap"}, \code{"vpd"}, \code{"vs"}.
Scale factors and units (aplicadas automáticamente):
\itemize{
\item \code{aet} (mm, ×0.1), \code{def} (mm, ×0.1), \code{pdsi} (unitless, ×0.01),
\item \code{pet} (mm, ×0.1), \code{pr} (mm, ×1), \code{ro} (mm, ×1), \code{soil} (mm, ×0.1),
\item \code{srad} (W/m², ×0.1), \code{swe} (mm, ×1),
\item \code{tmmn} (°C, ×0.1), \code{tmmx} (°C, ×0.1),
\item \code{vap} (kPa, ×0.001), \code{vpd} (kPa, ×0.01), \code{vs} (m/s, ×0.01).
}}

\item{region}{Spatial object defining the region of interest.
Accepts an \code{sf}, \code{sfc}, or \code{SpatVector} object.}

\item{scale}{Numeric. Reducer scale in meters. Default \code{1000}.
(TerraClimate pixel ≈ \strong{4638 m}; usar ~4500–5000 m suele ser adecuado.)}

\item{stat}{Character. Summary statistic per image per region. One of
\code{"mean"}, \code{"median"}, \code{"min"}, \code{"max"}. Passed internally to the extractor.}

\item{sf}{Logical. If \code{TRUE}, returns an \code{sf}; if \code{FALSE}, returns a \code{tibble}.
Default \code{TRUE}.}

\item{quiet}{Logical. If \code{TRUE}, suppresses progress bars/messages. Default \code{FALSE}.}

\item{force}{Logical. If \code{TRUE}, fuerza la extracción aun si hay caché. Default \code{TRUE}.}

\item{...}{Additional arguments passed to the extraction backend.}
}
\value{
An \code{sf} or \code{tibble} with columns:
\itemize{
\item \code{date} (Date, primer día del mes),
\item \code{variable} (character, código TerraClimate),
\item \code{value} (numérico, en unidades nativas ya escaladas),
plus geometry if \code{sf = TRUE}, and any attributes from \code{region}.
}
}
\description{
Extracts one or more \strong{TerraClimate} variables for a user-defined region
and time range from the Earth Engine dataset \strong{IDAHO_EPSCOR/TERRACLIMATE}.
The function summarizes each monthly image over the region using a chosen
statistic (e.g., mean/median), applies the appropriate \strong{scale factors} to
return values in native units, and returns an \code{sf} or \code{tibble}.

\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#stable}{\figure{lifecycle-stable.svg}{options: alt='[Stable]'}}}{\strong{[Stable]}}
}
\section{Credits}{

\href{https://www.innovalab.info/}{\if{html}{\figure{innovalab.svg}}}

Pioneering geospatial health analytics and open‐science tools.
Developed by the Innovalab Team, for more information send a email to \href{mailto:imt.innovlab@oficinas-upch.pe}{imt.innovlab@oficinas-upch.pe}

Follow us on :
\itemize{
\item \figure{linkedin-innova.png}\href{https://www.linkedin.com/company/innovalab-imt}{Innovalab Linkedin}, \figure{twitter-innova.png}\href{https://x.com/innovalab_imt}{Innovalab X}
\item \figure{facebook-innova.png}\href{https://www.facebook.com/imt.innovalab}{Innovalab facebook}, \figure{instagram-innova.png}\href{https://www.instagram.com/innovalab_imt/}{Innovalab instagram}
\item \figure{tiktok-innova.png}\href{https://www.tiktok.com/@innovalab_imt}{Innovalab tiktok}, \figure{spotify-innova.png}\href{https://www.innovalab.info/podcast}{Innovalab Podcast}
}
}

\examples{
\dontrun{
library(sf)
library(land4health)
rgee::ee_Initialize()

# ROI simple (EPSG:4326)
region <- st_as_sf(st_sfc(
  st_polygon(list(matrix(c(
    -74.1, -4.4,
    -74.1, -3.7,
    -73.2, -3.7,
    -73.2, -4.4,
    -74.1, -4.4
  ), ncol = 2, byrow = TRUE))), crs = 4326))

# Precipitación mensual (mm) 2020, promedio espacial
out_pr <- l4h_terra_climate(
  from = "2020-01-01",
  to   = "2020-12-31",
  band = "pr",
  region = region,
  stat = "mean",
  scale = 5000
)
head(out_pr)

# Múltiples variables: Tmax (°C) + VPD (kPa)
out_multi <- l4h_terra_climate(
  from = "2019-01-01",
  to   = "2019-12-31",
  band = c("tmmx","vpd"),
  region = region,
  stat = "median",
  scale = 5000
)
}

}
\references{
Abatzoglou, J. T., Dobrowski, S. Z., Parks, S. A., & Hegewisch, K. C. (2018).
TerraClimate, a high-resolution global dataset of monthly climate and climatic
water balance from 1958–2015. \emph{Scientific Data}, 5, 170191.
\doi{10.1038/sdata.2017.191}
}
