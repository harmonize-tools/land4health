% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/l4h_night_lights.R
\name{l4h_night_lights}
\alias{l4h_night_lights}
\title{Extracts global night‑time lights using harmonized DMSP‑OLS and VIIRS data}
\usage{
l4h_night_lights(
  from,
  to,
  region,
  stat = "mean",
  scale = 1000,
  sf = TRUE,
  quiet = FALSE,
  force = FALSE,
  ...
)
}
\arguments{
\item{from}{Character. Start date in \code{"YYYY-MM-DD"} format (only the year is used).}

\item{to}{Character. End date in \code{"YYYY-MM-DD"} format (only the year is used).}

\item{region}{A spatial object (\code{sf}, \code{sfc}, or \code{SpatVector}) defining the region of interest.}

\item{stat}{Character. Summary statistic to apply per year per region (e.g. \code{"mean"}, \code{"sum"}).}

\item{scale}{Numeric. Nominal scale in meters (default \code{1000}).}

\item{sf}{Logical. If \code{TRUE}, return as \code{sf}; if \code{FALSE}, return as \code{tibble}. Default \code{TRUE}.}

\item{quiet}{Logical. If \code{TRUE}, suppress progress messages. Default \code{FALSE}.}

\item{force}{Logical. If \code{TRUE}, skip representativity check. Default \code{FALSE}.}

\item{...}{Additional arguments passed to \code{rgee::ee_extract()}.}
}
\value{
A \code{sf} or \code{tibble} with annual night‑time light statistics per region and date.
}
\description{
Retrieves annual night‑time light radiance (average radiance, nanoWatt/sr/cm²) from the
Harmonized Global Night Time Lights dataset for a user-defined region and time range.
The dataset harmonizes DMSP-OLS (1992‑2013) with VIIRS‑like data (2014‑2021), ensuring
consistent long-term time series at ~1km resolution.

\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}}
}
\examples{
\dontrun{
library(land4health)
library(sf)
ee_Initialize()

# Define a bounding box region in Ucayali, Peru
region <- st_as_sf(st_sfc(
  st_polygon(list(matrix(c(
    -74.1, -4.4,
    -74.1, -3.7,
    -73.2, -3.7,
    -73.2, -4.4,
    -74.1, -4.4
  ), ncol = 2, byrow = TRUE))),
  crs = 4326
))

# Extract only DMSP-OLS data (1998–2010)
ntl_dmsp <- l4h_night_lights(
  from = "1998-01-01",
  to = "2010-12-31",
  region = region,
  stat = "mean"
)
head(ntl_dmsp)

# Extract only VIIRS data (2016–2021)
ntl_viirs <- l4h_night_lights(
  from = "2016-01-01",
  to = "2021-12-31",
  region = region,
  stat = "mean"
)
head(ntl_viirs)

# Extract both DMSP and VIIRS (2008–2020)
ntl_mixed <- l4h_night_lights(
  from = "2008-01-01",
  to = "2020-12-31",
  region = region,
  stat = "mean"
)
head(ntl_mixed)
}
}
