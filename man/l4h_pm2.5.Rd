% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/l4h_pm2.5.R
\name{l4h_pm2.5}
\alias{l4h_pm2.5}
\title{Extract Global PM2.5 (monthly) from Google Earth Engine}
\usage{
l4h_pm2.5(
  from,
  to,
  band,
  region,
  scale = 1000,
  stat = "mean",
  sf = TRUE,
  quiet = FALSE,
  force = TRUE,
  ...
)
}
\arguments{
\item{from}{Character or Date. Start date (\code{"YYYY-MM-DD"}).}

\item{to}{Character or Date. End date (\code{"YYYY-MM-DD"}).}

\item{band}{Character (kept for API symmetry). The dataset exposes a single band,
currently \code{'b1'} (PM\eqn{_{2.5}} in µg/m\eqn{^3}). The function selects \code{'b1'}
internally; this argument is ignored.}

\item{region}{Spatial object defining the region of interest.
Accepts an \code{sf}, \code{sfc}, or \code{SpatVector} object.}

\item{scale}{Numeric. Reducer scale in meters. Default \code{1000}.
(Use a value close to the dataset's native grid; typical choices are a few km.)}

\item{stat}{Character. Summary statistic per image per region. One of
\code{"mean"}, \code{"median"}, \code{"min"}, \code{"max"}.}

\item{sf}{Logical. If \code{TRUE}, returns an \code{sf}; if \code{FALSE}, returns a \code{tibble}.
Default \code{TRUE}.}

\item{quiet}{Logical. If \code{TRUE}, suppresses progress bars/messages. Default \code{FALSE}.}

\item{force}{Logical. If \code{TRUE}, forces extraction even if cached results exist.
Default \code{TRUE}.}

\item{...}{Additional arguments passed to the extraction backend.}
}
\value{
An \code{sf} or \code{tibble} with columns:
\itemize{
\item \code{date} (\code{Date}) — first day of the month,
\item \code{variable} (\code{character}) — fixed as \code{"pm2.5"},
\item \code{value} (\code{numeric}) — PM2.5 in \strong{µg/m\eqn{^3}},
plus geometry if \code{sf = TRUE}, and any attributes from \code{region}.
}
}
\description{
Extracts monthly \strong{PM2.5} concentrations for a user-defined region
and time range from the Earth Engine Community Catalog dataset
\strong{Global PM2.5 (V6GL02 CNN)}. Each monthly image is summarized over the
region using a selected statistic (e.g., mean/median). The function returns
either an \code{sf} or a \code{tibble}, with dates normalized to the \strong{first day
of each month}.

\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}}
}
\details{
This function queries the Global PM2.5 monthly product (V6GL02, CNN‐based fusion)
from the \strong{GEE Community Catalog} and aggregates it over the provided region and dates.
The dataset provides monthly surface PM2.5 concentrations (µg/m\eqn{^3}).
Values are returned in native units (no extra scale factor is applied here).

\strong{Notes}
\itemize{
\item Dates are validated (\code{YYYY-MM-DD}) and constrained to the dataset range used
in this package (default: 2000–2019).
\item Output dates are normalized to the first day of each month found in the bands.
\item The function expects a reasonable \code{scale} relative to the dataset resolution
to avoid oversampling or excessive smoothing.
}
}
\section{Credits}{

\href{https://www.innovalab.info/}{\if{html}{\figure{innovalab.svg}}}

Pioneering geospatial health analytics and open‐science tools.
Developed by the Innovalab Team, for more information send a email to \href{mailto:imt.innovlab@oficinas-upch.pe}{imt.innovlab@oficinas-upch.pe}

Follow us on :
\itemize{
\item \figure{linkedin-innova.png}\href{https://www.linkedin.com/company/innovalab-imt}{Innovalab Linkedin}, \figure{twitter-innova.png}\href{https://x.com/innovalab_imt}{Innovalab X}
\item \figure{facebook-innova.png}\href{https://www.facebook.com/imt.innovalab}{Innovalab facebook}, \figure{instagram-innova.png}\href{https://www.instagram.com/innovalab_imt/}{Innovalab instagram}
\item \figure{tiktok-innova.png}\href{https://www.tiktok.com/@innovalab_imt}{Innovalab tiktok}, \figure{spotify-innova.png}\href{https://www.innovalab.info/podcast}{Innovalab Podcast}
}
}

\examples{
\dontrun{
library(sf)
library(land4health)
rgee::ee_Initialize()

# ROI simple (EPSG:4326)
region <- st_as_sf(st_sfc(
  st_polygon(list(matrix(c(
    -74.1, -4.4,
    -74.1, -3.7,
    -73.2, -3.7,
    -73.2, -4.4,
    -74.1, -4.4
  ), ncol = 2, byrow = TRUE))), crs = 4326))

# PM2.5 mensual (µg/m^3) para 2010, promedio espacial
out_pm <- l4h_pm2.5(
  from   = "2010-01-01",
  to     = "2010-12-31",
  band   = "b1",        # ignorado (única banda)
  region = region,
  stat   = "mean",
  scale  = 3000
)
head(out_pm)
}

}
\references{
GEE Community Catalog – Global PM2.5 (V6GL02 CNN).
\url{https://gee-community-catalog.org/projects/global_pm25/}
}
